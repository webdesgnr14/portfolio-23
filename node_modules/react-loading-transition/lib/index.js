!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("core-js/modules/es.function.bind"),require("core-js/modules/web.timers"),require("react"),require("prop-types"),require("create-react-context"),require("core-js/modules/es.array.filter"),require("core-js/modules/es.array.for-each"),require("core-js/modules/es.regexp.exec"),require("core-js/modules/es.string.split"),require("core-js/modules/web.dom-collections.for-each"),require("react-dom"),require("core-js/modules/es.array.is-array"),require("core-js/modules/es.date.to-string"),require("core-js/modules/es.object.to-string"),require("core-js/modules/es.regexp.constructor"),require("core-js/modules/es.regexp.to-string")):"function"==typeof define&&define.amd?define(["exports","core-js/modules/es.function.bind","core-js/modules/web.timers","react","prop-types","create-react-context","core-js/modules/es.array.filter","core-js/modules/es.array.for-each","core-js/modules/es.regexp.exec","core-js/modules/es.string.split","core-js/modules/web.dom-collections.for-each","react-dom","core-js/modules/es.array.is-array","core-js/modules/es.date.to-string","core-js/modules/es.object.to-string","core-js/modules/es.regexp.constructor","core-js/modules/es.regexp.to-string"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactLoadingTransition={},0,0,e.React,e.PropTypes,e.createContext,0,0,0,0,0,e.ReactDOM)}(this,function(e,t,r,o,n,s,u,i,a,c,l,f){"use strict";function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var p=d(o),n=d(n),s=d(s),m=d(f);function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e,t,r){return t&&b(e.prototype,t),r&&b(e,r),e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(t,e){var r,o=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,r)),o}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(r){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=v(r);return e=o?(e=v(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!=typeof e&&"function"!=typeof e?P(t):e}}var s=s.default(),x=s.Provider,L=s.Consumer,T=function(){O(o,p["default"].Component);var t=q(o);function o(e){var r;return y(this,o),h(P(r=t.call(this,e)),"doMotion",function(e){r.asyncAnimation(e,r.state.isLoad)}),h(P(r),"asyncAnimation",function(e,t){!e&&t?setTimeout(function(){r.setState({isLoad:e})},r.props.delay):e&&!t&&r.setState({isLoad:e})}),e.loadNode||console.warn("loadNode attribute is empty!"),r.state={LoadNode:e.loadNode,isLoad:!1},o.doMotion=r.doMotion.bind(P(r)),r}return j(o,[{key:"render",value:function(){var e={isload:this.state.isLoad,appear:this.props.appear},t=this.state.LoadNode;return p.default.createElement("main",null,t&&p.default.createElement(t,e),p.default.createElement(x,{value:e},this.props.children))}}]),o}();T.defaultProps={LoadNode:null,appear:!1,delay:0},T.propTypes={loadNode:n.default.elementType,appear:n.default.bool,delay:n.default.number};function E(e){return Object.prototype.toString.call(e)}var R=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===E(e)},S=function(e){return"[object String]"===E(e)},s=function(){O(n,p["default"].Component);var o=q(n);function n(e){var u;y(this,n),h(P(u=o.call(this,e)),"_forceShow",function(e,t){var r=u.state,o=r.status,n=r.come,s=r.from;n&&s||!(t&&!o||!t&&o)?R(n)&&R(s)&&t&&!o?u.setState({status:t},function(){var t=u.props.nodeRef?u.props.nodeRef:m.default.findDOMNode(P(u));s.forEach(function(e){return t.classList.add(e)}),setTimeout(function(){s.forEach(function(e){return t.classList.remove(e)}),n.forEach(function(e){return t.classList.add(e)})},e)}):R(n)&&R(s)&&!t&&o&&setTimeout(function(){u.setState({status:t})},e):setTimeout(function(){u.setState({status:t})},e)});var t=null,r=null;return e.from&&!S(e.from)||!e.from||e.from.split(" "),r=e.come&&!S(e.come)||!e.come?null:e.come.split(" "),u.state={status:u.props.in,from:R(t)?t.filter(function(e){return e}):t,come:R(r)?r.filter(function(e){return e}):r},u}return j(n,[{key:"componentDidUpdate",value:function(){this._forceShow(this.props.timeout,this.props.in)}},{key:"shouldComponentUpdate",value:function(e,t){return e.in!==this.state.status||t.status!==this.state.status||(e.in&&this.state.status&&T.doMotion(!1),!1)}},{key:"render",value:function(){var t=this;return this.state.status?p.default.createElement(L,null,function(e){return p.default.cloneElement(p.default.Children.only(t.props.children),function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach(function(e){h(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},e))}):null}}]),n}();s.defaultProps={in:!0,from:null,timeout:0,nodeRef:null,come:null},s.propTypes={in:n.default.bool,from:n.default.string,come:n.default.string,timeout:n.default.number,nodeRef:n.default.node};e.LoadMotion=s,e.LoadTransition=T,e.domotion=function(e){return T.doMotion(e)},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
